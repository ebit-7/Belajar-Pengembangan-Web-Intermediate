/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/assets/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/assets/styles.css ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* === RESET & DASAR === */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Segoe UI', Roboto, sans-serif;\n  line-height: 1.6;\n  background-color: #f8fafc;\n  color: #333;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\n/* === UTILITY === */\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 1rem;\n}\n\n/* === HEADER & FOOTER === */\nheader {\n  background-color: #ffffff;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n  padding: 1rem;\n}\n\nfooter {\n  background-color: #f0f2f5;\n  padding: 1rem;\n  text-align: center;\n  font-size: 0.9rem;\n  color: #666;\n  border-top: 1px solid #e0e0e0;\n  margin-top: auto;\n}\n\n/* === SKIP LINK (AKSESIBILITAS) === */\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: #111;\n  color: #fff;\n  padding: 8px;\n  z-index: 100;\n  transition: top 0.3s;\n}\n.skip-link:focus {\n  top: 0;\n}\n\n/* === PETA === */\n#map {\n  height: 400px;\n  width: 100%;\n  margin-top: 2rem;\n  border-radius: 10px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n/* === LOGIN & REGISTER === */\n.login-container,\n.register-container {\n  max-width: 420px;\n  margin: 4rem auto;\n  padding: 2rem;\n  background: #ffffff;\n  border-radius: 16px;\n  box-shadow: 0 8px 24px rgba(0,0,0,0.05);\n}\n\n.login-container h2,\n.register-container h2 {\n  color: #222;\n  margin-bottom: 1.5rem;\n}\n\n.login-form input,\n.styled-form input {\n  width: 100%;\n  padding: 0.8rem;\n  margin: 0.5rem 0;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.2s;\n}\n\n.login-form input:focus,\n.styled-form input:focus {\n  border-color: #007bff;\n  outline: none;\n}\n\n.login-form button,\n.styled-form button {\n  width: 100%;\n  padding: 0.9rem;\n  margin-top: 1rem;\n  background: #007bff;\n  border: none;\n  color: white;\n  font-weight: bold;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.login-form button:hover,\n.styled-form button:hover {\n  background: #0056b3;\n}\n\n.login-container p,\n.register-container p {\n  font-size: 0.9rem;\n  margin-top: 1rem;\n}\n\n.login-container a,\n.register-container a {\n  color: #007bff;\n  text-decoration: none;\n}\n.login-container a:hover,\n.register-container a:hover {\n  text-decoration: underline;\n}\n\n/* === CERITA GRID === */\n.story-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 1.5rem;\n  padding: 2rem 0;\n}\n\n.story-card {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 16px rgba(0,0,0,0.05);\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n  overflow: hidden;\n}\n\n.story-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 20px rgba(0,0,0,0.1);\n}\n\n.story-card img {\n  width: 100%;\n  height: 180px;\n  object-fit: cover;\n}\n\n.story-info {\n  padding: 1rem;\n}\n\n.story-info h3 {\n  font-size: 1.1rem;\n  color: #222;\n  margin-bottom: 0.5rem;\n}\n\n.story-info p {\n  font-size: 0.95rem;\n  color: #555;\n}\n\n.story-info small {\n  color: #888;\n  font-size: 0.8rem;\n}\n\n/* === FORM TAMBAH CERITA === */\n.form-container {\n  max-width: 800px;\n  margin: 2rem auto;\n  padding: 2rem;\n}\n\n.form-card {\n  background: #fff;\n  padding: 2rem;\n  border-radius: 12px;\n  box-shadow: 0 6px 20px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.form-card h2 {\n  text-align: center;\n  color: #333;\n}\n\n.form-card label {\n  font-weight: bold;\n  color: #444;\n}\n\n.form-card input,\n.form-card textarea {\n  padding: 0.75rem;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  font-size: 1rem;\n}\n\n.submit-button {\n  padding: 0.9rem;\n  background-color: #28a745;\n  color: white;\n  font-weight: bold;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.submit-button:hover {\n  background-color: #218838;\n}\n\n/* === KAMERA === */\n.camera-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n#camera {\n  width: 100%;\n  max-width: 400px;\n  border-radius: 12px;\n  border: 2px solid #ccc;\n}\n\n#takePhoto {\n  padding: 0.7rem 1.2rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n}\n\n#takePhoto:hover {\n  background-color: #0056b3;\n}\n\n/* === LOADING === */\n.loading-text {\n  display: none;\n  text-align: center;\n  margin-top: 1rem;\n  font-style: italic;\n  color: #888;\n}\n\n/* === VIEW TRANSITION === */\n::view-transition-old(root),\n::view-transition-new(root) {\n  animation: fade 0.3s ease-in-out;\n}\n\n@keyframes fade {\n  from { opacity: 0; }\n  to   { opacity: 1; }\n}\n\n/* === RESPONSIF KHUSUS MOBILE === */\n@media (max-width: 600px) {\n  .form-card,\n  .login-container,\n  .register-container {\n    margin: 1rem;\n    padding: 1rem;\n  }\n\n  .story-grid {\n    grid-template-columns: 1fr;\n  }\n\n  #map {\n    height: 300px;\n  }\n}\n`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://my-story-app/./src/assets/styles.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://my-story-app/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://my-story-app/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/idb/build/index.js":
/*!*****************************************!*\
  !*** ./node_modules/idb/build/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteDB: () => (/* binding */ deleteDB),\n/* harmony export */   openDB: () => (/* binding */ openDB),\n/* harmony export */   unwrap: () => (/* binding */ unwrap),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\nconst instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\n\n\n\n//# sourceURL=webpack://my-story-app/./node_modules/idb/build/index.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://my-story-app/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://my-story-app/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://my-story-app/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://my-story-app/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://my-story-app/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://my-story-app/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./src/assets/styles.css":
/*!*******************************!*\
  !*** ./src/assets/styles.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./styles.css */ \"./node_modules/css-loader/dist/cjs.js!./src/assets/styles.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_styles_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://my-story-app/./src/assets/styles.css?");

/***/ }),

/***/ "./src/pages/loginPage.js":
/*!********************************!*\
  !*** ./src/pages/loginPage.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderLoginPage: () => (/* binding */ renderLoginPage)\n/* harmony export */ });\n// scripts/pages/loginPage.js\nfunction renderLoginPage(_ref) {\n  let {\n    onSubmit\n  } = _ref;\n  const main = document.querySelector('main');\n  main.innerHTML = `\n    <section class=\"login-container\">\n      <h2>Login</h2>\n      <form id=\"login-form\" class=\"login-form\">\n        <input type=\"email\" id=\"email\" placeholder=\"Email\" required />\n        <input type=\"password\" id=\"password\" placeholder=\"Password\" required />\n        <button type=\"submit\">Login</button>\n      </form>\n      <p>Belum punya akun? <a href=\"#/register\">Daftar</a></p>\n    </section>\n  `;\n  const form = document.getElementById('login-form');\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    await onSubmit({\n      email,\n      password\n    });\n  });\n}\n\n//# sourceURL=webpack://my-story-app/./src/pages/loginPage.js?");

/***/ }),

/***/ "./src/pages/registerPage.js":
/*!***********************************!*\
  !*** ./src/pages/registerPage.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   showRegisterPage: () => (/* binding */ showRegisterPage)\n/* harmony export */ });\n/* harmony import */ var _scripts_presenter_register_presenter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scripts/presenter/register-presenter.js */ \"./src/scripts/presenter/register-presenter.js\");\n\nfunction showRegisterPage() {\n  const main = document.getElementById('main-content');\n  main.innerHTML = `\n  <section class=\"register-container\">\n    <h2>Daftar Akun</h2>\n    <form id=\"registerForm\" class=\"styled-form\">\n      <label for=\"name\">Nama Lengkap:</label>\n      <input type=\"text\" id=\"name\" name=\"name\" required />\n\n      <label for=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" name=\"email\" required />\n\n      <label for=\"password\">Password:</label>\n      <input type=\"password\" id=\"password\" name=\"password\" required />\n\n      <button type=\"submit\">Daftar</button>\n    </form>\n  </section>\n`;\n  const form = document.getElementById('registerForm');\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n    const name = form.name.value.trim();\n    const email = form.email.value.trim();\n    const password = form.password.value;\n    const success = await (0,_scripts_presenter_register_presenter_js__WEBPACK_IMPORTED_MODULE_0__.doRegister)({\n      name,\n      email,\n      password\n    });\n    if (success) {\n      window.location.hash = '#/login';\n    }\n  });\n}\n\n//# sourceURL=webpack://my-story-app/./src/pages/registerPage.js?");

/***/ }),

/***/ "./src/scripts/api/story-api.js":
/*!**************************************!*\
  !*** ./src/scripts/api/story-api.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addStory: () => (/* binding */ addStory),\n/* harmony export */   getStories: () => (/* binding */ getStories),\n/* harmony export */   getToken: () => (/* binding */ getToken)\n/* harmony export */ });\n// scripts/api/story-api.js\nconst BASE_URL = 'https://story-api.dicoding.dev/v1';\nfunction getToken() {\n  return localStorage.getItem('token');\n}\nasync function getStories() {\n  const token = getToken();\n  if (!token) throw new Error('Token tidak ditemukan. Silakan login.');\n  const res = await fetch(`${BASE_URL}/stories`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  if (!res.ok) throw new Error('Gagal memuat cerita');\n  const data = await res.json();\n  return data.listStory;\n}\nasync function addStory(_ref) {\n  let {\n    description,\n    photo,\n    lat,\n    lon\n  } = _ref;\n  const token = getToken();\n  if (!token) throw new Error('Token tidak ditemukan. Silakan login.');\n  const formData = new FormData();\n  formData.append('description', description);\n  formData.append('photo', photo);\n  if (lat && lon) {\n    formData.append('lat', lat);\n    formData.append('lon', lon);\n  }\n  const res = await fetch(`${BASE_URL}/stories`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    body: formData\n  });\n  if (!res.ok) {\n    const error = await res.json();\n    throw new Error(error.message || 'Gagal mengirim cerita');\n  }\n  return res.json();\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/api/story-api.js?");

/***/ }),

/***/ "./src/scripts/idb.js":
/*!****************************!*\
  !*** ./src/scripts/idb.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbPromise: () => (/* binding */ dbPromise),\n/* harmony export */   idbStory: () => (/* binding */ idbStory)\n/* harmony export */ });\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb */ \"./node_modules/idb/build/index.js\");\n// Ganti baris ini:\n// import { openDB } from 'https://cdn.jsdelivr.net/npm/idb@7/+esm';\n\n// Menjadi:\n\nconst DB_NAME = 'story-app-db';\nconst STORE_NAME = 'stories';\nconst dbPromise = (0,idb__WEBPACK_IMPORTED_MODULE_0__.openDB)(DB_NAME, 1, {\n  upgrade(db) {\n    if (!db.objectStoreNames.contains(STORE_NAME)) {\n      db.createObjectStore(STORE_NAME, {\n        keyPath: 'id'\n      });\n    }\n  }\n});\nconst idbStory = {\n  async put(story) {\n    const db = await dbPromise;\n    return db.put(STORE_NAME, story);\n  },\n  async getAll() {\n    const db = await dbPromise;\n    return db.getAll(STORE_NAME);\n  },\n  async delete(id) {\n    const db = await dbPromise;\n    return db.delete(STORE_NAME, id);\n  }\n};\n\n//# sourceURL=webpack://my-story-app/./src/scripts/idb.js?");

/***/ }),

/***/ "./src/scripts/main.js":
/*!*****************************!*\
  !*** ./src/scripts/main.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _assets_styles_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets/styles.css */ \"./src/assets/styles.css\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./router.js */ \"./src/scripts/router.js\");\n/* harmony import */ var _view_navigation_view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view/navigation-view.js */ \"./src/scripts/view/navigation-view.js\");\n/* harmony import */ var _push_notification_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./push-notification.js */ \"./src/scripts/push-notification.js\");\n/* harmony import */ var _idb_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./idb.js */ \"./src/scripts/idb.js\");\n/* harmony import */ var _api_story_api_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./api/story-api.js */ \"./src/scripts/api/story-api.js\");\n/* harmony import */ var _view_storyView_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./view/storyView.js */ \"./src/scripts/view/storyView.js\");\n// src/scripts/main.js\n\n\n\n\n\n\n\n\nconst {\n  renderStories\n} = _view_storyView_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n\n/**\n * Fungsi untuk memuat halaman utama dan render cerita\n */\nasync function loadHomePage() {\n  try {\n    const stories = await (0,_api_story_api_js__WEBPACK_IMPORTED_MODULE_5__.getStories)();\n    await Promise.all(stories.map(story => _idb_js__WEBPACK_IMPORTED_MODULE_4__.idbStory.put(story)));\n    renderStories(stories);\n  } catch (err) {\n    console.warn('⚠️ Fetch failed. Loading from cache...', err);\n    const cached = await _idb_js__WEBPACK_IMPORTED_MODULE_4__.idbStory.getAll();\n    if (cached.length > 0) {\n      renderStories(cached);\n    } else {\n      console.error('❌ No cached stories found.');\n    }\n  }\n}\n\n/**\n * Perbarui tampilan berdasarkan hash route\n */\nfunction updateView() {\n  (0,_router_js__WEBPACK_IMPORTED_MODULE_1__.router)();\n  (0,_view_navigation_view_js__WEBPACK_IMPORTED_MODULE_2__.renderNavigation)();\n  const token = localStorage.getItem('token');\n  const currentHash = window.location.hash;\n  const isAuthPage = currentHash === '#/login' || currentHash === '#/register';\n  if (token && !isAuthPage) {\n    loadHomePage();\n  }\n}\n\n/**\n * Inisialisasi aplikasi\n */\nfunction init() {\n  const token = localStorage.getItem('token');\n  const currentHash = window.location.hash;\n  if (!token && currentHash !== '#/login' && currentHash !== '#/register') {\n    window.location.hash = '#/login';\n  } else {\n    updateView();\n  }\n}\n\n// Daftarkan Service Worker dan jalankan Push Notification\nwindow.addEventListener('load', () => {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/service-worker.js').then(reg => {\n      console.log('✅ Service Worker Registered:', reg.scope);\n    }).catch(err => {\n      console.error('❌ Service Worker Registration Failed:', err);\n    });\n  } else {\n    console.warn('⚠️ Service Worker not supported in this browser');\n  }\n\n  // Inisialisasi Push Notification jika ada\n  (0,_push_notification_js__WEBPACK_IMPORTED_MODULE_3__.initPush)?.();\n});\n\n// Perbarui tampilan saat hash berubah\nwindow.addEventListener('hashchange', updateView);\n\n// Jalankan init saat DOM siap\nwindow.addEventListener('DOMContentLoaded', init);\n\n//# sourceURL=webpack://my-story-app/./src/scripts/main.js?");

/***/ }),

/***/ "./src/scripts/model/storyModel.js":
/*!*****************************************!*\
  !*** ./src/scripts/model/storyModel.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllStories: () => (/* binding */ getAllStories),\n/* harmony export */   postStory: () => (/* binding */ postStory)\n/* harmony export */ });\n/* harmony import */ var _api_story_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/story-api.js */ \"./src/scripts/api/story-api.js\");\n// scripts/model/storyModel.js\n\nasync function getAllStories() {\n  return await (0,_api_story_api_js__WEBPACK_IMPORTED_MODULE_0__.getStories)();\n}\nasync function postStory(data) {\n  return await (0,_api_story_api_js__WEBPACK_IMPORTED_MODULE_0__.addStory)(data);\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/model/storyModel.js?");

/***/ }),

/***/ "./src/scripts/presenter/add-presenter.js":
/*!************************************************!*\
  !*** ./src/scripts/presenter/add-presenter.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nlet model, view;\nfunction setDependencies(_ref) {\n  let {\n    modelModule,\n    viewModule\n  } = _ref;\n  model = modelModule;\n  view = viewModule;\n}\nasync function handleSubmit(_ref2) {\n  let {\n    description,\n    photo,\n    lat,\n    lon\n  } = _ref2;\n  if (!description || !photo || !lat || !lon) {\n    view.showError('Pastikan semua data lengkap!');\n    return;\n  }\n  try {\n    view.showLoading(true);\n    const result = await model.postStory({\n      description,\n      photo,\n      lat,\n      lon\n    });\n    view.showSuccess(result.message);\n    location.hash = '#/home';\n  } catch (error) {\n    view.showError(error.message || 'Terjadi kesalahan saat mengirim data');\n  } finally {\n    view.showLoading(false);\n  }\n}\nfunction showAddForm() {\n  view.renderAddForm({\n    onSubmit: handleSubmit\n  });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  setDependencies,\n  showAddForm\n});\n\n//# sourceURL=webpack://my-story-app/./src/scripts/presenter/add-presenter.js?");

/***/ }),

/***/ "./src/scripts/presenter/home-presenter.js":
/*!*************************************************!*\
  !*** ./src/scripts/presenter/home-presenter.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _idb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../idb.js */ \"./src/scripts/idb.js\");\n/* harmony import */ var _api_story_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/story-api.js */ \"./src/scripts/api/story-api.js\");\n\n\nlet model, view;\nfunction setDependencies(_ref) {\n  let {\n    modelModule,\n    viewModule\n  } = _ref;\n  model = modelModule;\n  view = viewModule;\n}\nasync function showHomePage() {\n  try {\n    const stories = await (0,_api_story_api_js__WEBPACK_IMPORTED_MODULE_1__.getStories)();\n    for (const story of stories) {\n      await _idb_js__WEBPACK_IMPORTED_MODULE_0__.idbStory.put(story);\n    }\n    view.renderHome(stories);\n  } catch (error) {\n    const cached = await _idb_js__WEBPACK_IMPORTED_MODULE_0__.idbStory.getAll();\n    if (cached.length > 0) {\n      view.renderHome(cached);\n    } else {\n      view.renderError('Tidak ada data yang tersedia.');\n    }\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  setDependencies,\n  showHomePage\n});\n\n//# sourceURL=webpack://my-story-app/./src/scripts/presenter/home-presenter.js?");

/***/ }),

/***/ "./src/scripts/presenter/login-presenter.js":
/*!**************************************************!*\
  !*** ./src/scripts/presenter/login-presenter.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doLogin: () => (/* binding */ doLogin)\n/* harmony export */ });\nconst BASE_URL = 'https://story-api.dicoding.dev/v1';\nasync function doLogin(_ref) {\n  let {\n    email,\n    password\n  } = _ref;\n  try {\n    const response = await fetch(`${BASE_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const result = await response.json();\n    if (!response.ok) {\n      throw new Error(result.message || 'Login gagal');\n    }\n\n    // Simpan token\n    localStorage.setItem('token', result.loginResult.token);\n    return true;\n  } catch (error) {\n    alert('Gagal login. Cek email dan password.\\n' + error.message);\n    return false;\n  }\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/presenter/login-presenter.js?");

/***/ }),

/***/ "./src/scripts/presenter/register-presenter.js":
/*!*****************************************************!*\
  !*** ./src/scripts/presenter/register-presenter.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doRegister: () => (/* binding */ doRegister)\n/* harmony export */ });\nconst BASE_URL = 'https://story-api.dicoding.dev/v1';\nasync function doRegister(_ref) {\n  let {\n    name,\n    email,\n    password\n  } = _ref;\n  try {\n    const response = await fetch(`${BASE_URL}/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        email,\n        password\n      })\n    });\n    const result = await response.json();\n    if (!response.ok) {\n      throw new Error(result.message || 'Terjadi kesalahan saat registrasi');\n    }\n    return true;\n  } catch (error) {\n    alert('Terjadi kesalahan saat registrasi. Coba lagi.\\n' + error.message);\n    return false;\n  }\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/presenter/register-presenter.js?");

/***/ }),

/***/ "./src/scripts/presenter/storyPresenter.js":
/*!*************************************************!*\
  !*** ./src/scripts/presenter/storyPresenter.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/storyModel.js */ \"./src/scripts/model/storyModel.js\");\n// scripts/presenter/storyPresenter.js\n\nlet view;\nfunction setDependencies(_ref) {\n  let {\n    viewModule\n  } = _ref;\n  view = viewModule;\n}\nasync function submitStory(formData) {\n  try {\n    view.showLoading(true);\n    const result = await _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__.postStory(formData);\n    view.showSuccess(result.message);\n  } catch (error) {\n    view.showError(error.message);\n  } finally {\n    view.showLoading(false);\n  }\n}\nasync function showAllStories() {\n  try {\n    const stories = await _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__.getAllStories();\n    // renderMap() tidak dibutuhkan karena sekarang di-handle oleh view\n  } catch (err) {\n    console.error('Gagal menampilkan cerita:', err.message);\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  setDependencies,\n  submitStory,\n  showAllStories\n});\n\n//# sourceURL=webpack://my-story-app/./src/scripts/presenter/storyPresenter.js?");

/***/ }),

/***/ "./src/scripts/push-notification.js":
/*!******************************************!*\
  !*** ./src/scripts/push-notification.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initPush: () => (/* binding */ initPush)\n/* harmony export */ });\nasync function initPush() {\n  if (!('serviceWorker' in navigator)) return;\n  const reg = await navigator.serviceWorker.ready;\n  const subscription = await reg.pushManager.getSubscription();\n  if (!subscription) {\n    const vapidKey = 'YOUR_PUBLIC_VAPID_KEY'; // dari API kamu\n    await reg.pushManager.subscribe({\n      userVisibleOnly: true,\n      applicationServerKey: urlBase64ToUint8Array(vapidKey)\n    });\n  }\n}\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = '='.repeat((4 - base64String.length % 4) % 4);\n  const base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\n  const raw = atob(base64);\n  return Uint8Array.from([...raw].map(char => char.charCodeAt(0)));\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/push-notification.js?");

/***/ }),

/***/ "./src/scripts/router.js":
/*!*******************************!*\
  !*** ./src/scripts/router.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var _presenter_home_presenter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./presenter/home-presenter.js */ \"./src/scripts/presenter/home-presenter.js\");\n/* harmony import */ var _presenter_add_presenter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./presenter/add-presenter.js */ \"./src/scripts/presenter/add-presenter.js\");\n/* harmony import */ var _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./presenter/storyPresenter.js */ \"./src/scripts/presenter/storyPresenter.js\");\n/* harmony import */ var _presenter_login_presenter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./presenter/login-presenter.js */ \"./src/scripts/presenter/login-presenter.js\");\n/* harmony import */ var _pages_loginPage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pages/loginPage.js */ \"./src/pages/loginPage.js\");\n/* harmony import */ var _pages_registerPage_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pages/registerPage.js */ \"./src/pages/registerPage.js\");\n/* harmony import */ var _view_transition_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./view-transition.js */ \"./src/scripts/view-transition.js\");\n/* harmony import */ var _model_storyModel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model/storyModel.js */ \"./src/scripts/model/storyModel.js\");\n/* harmony import */ var _view_home_view_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./view/home-view.js */ \"./src/scripts/view/home-view.js\");\n/* harmony import */ var _view_add_view_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./view/add-view.js */ \"./src/scripts/view/add-view.js\");\n// scripts/router.js\n\n\n\n\n\n\n\n\n\n\nlet isInjected = false;\nfunction injectDependencies() {\n  if (isInjected) return;\n  _presenter_home_presenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setDependencies({\n    modelModule: _model_storyModel_js__WEBPACK_IMPORTED_MODULE_7__,\n    viewModule: _view_home_view_js__WEBPACK_IMPORTED_MODULE_8__\n  });\n  _presenter_add_presenter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setDependencies({\n    modelModule: _model_storyModel_js__WEBPACK_IMPORTED_MODULE_7__,\n    viewModule: _view_add_view_js__WEBPACK_IMPORTED_MODULE_9__\n  });\n  _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setDependencies({\n    modelModule: _model_storyModel_js__WEBPACK_IMPORTED_MODULE_7__,\n    viewModule: null\n  });\n  isInjected = true;\n}\nfunction router() {\n  const token = localStorage.getItem('token');\n  const hash = window.location.hash || '#/home';\n  const main = document.querySelector('main');\n  if (!main) return;\n  if (!token && hash !== '#/login' && hash !== '#/register') {\n    window.location.hash = '#/login';\n    return;\n  }\n  injectDependencies();\n  switch (hash) {\n    case '#/home':\n    case '#/':\n      (0,_view_transition_js__WEBPACK_IMPORTED_MODULE_6__.applyViewTransition)(() => {\n        _presenter_home_presenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].showHomePage();\n        _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showAllStories();\n      });\n      break;\n    case '#/add':\n      (0,_view_transition_js__WEBPACK_IMPORTED_MODULE_6__.applyViewTransition)(() => _presenter_add_presenter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showAddForm());\n      break;\n    case '#/login':\n      (0,_view_transition_js__WEBPACK_IMPORTED_MODULE_6__.applyViewTransition)(() => (0,_pages_loginPage_js__WEBPACK_IMPORTED_MODULE_4__.renderLoginPage)({\n        onSubmit: async _ref => {\n          let {\n            email,\n            password\n          } = _ref;\n          const success = await (0,_presenter_login_presenter_js__WEBPACK_IMPORTED_MODULE_3__.doLogin)({\n            email,\n            password\n          });\n          if (success) {\n            window.location.hash = '#/home';\n          }\n        }\n      }));\n      break;\n    case '#/register':\n      (0,_view_transition_js__WEBPACK_IMPORTED_MODULE_6__.applyViewTransition)(() => (0,_pages_registerPage_js__WEBPACK_IMPORTED_MODULE_5__.showRegisterPage)());\n      break;\n    default:\n      (0,_view_transition_js__WEBPACK_IMPORTED_MODULE_6__.applyViewTransition)(() => {\n        _presenter_home_presenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].showHomePage();\n        _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showAllStories();\n      });\n      break;\n  }\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/router.js?");

/***/ }),

/***/ "./src/scripts/view-transition.js":
/*!****************************************!*\
  !*** ./src/scripts/view-transition.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyViewTransition: () => (/* binding */ applyViewTransition)\n/* harmony export */ });\n// scripts/view-transition.js\nfunction applyViewTransition(callback) {\n  if (!document.startViewTransition) {\n    callback();\n    return;\n  }\n  document.startViewTransition(() => {\n    callback();\n    return Promise.resolve(); // agar animasi berjalan\n  });\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/view-transition.js?");

/***/ }),

/***/ "./src/scripts/view/add-view.js":
/*!**************************************!*\
  !*** ./src/scripts/view/add-view.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderAddForm: () => (/* binding */ renderAddForm),\n/* harmony export */   showError: () => (/* binding */ showError),\n/* harmony export */   showLoading: () => (/* binding */ showLoading),\n/* harmony export */   showSuccess: () => (/* binding */ showSuccess)\n/* harmony export */ });\n/* harmony import */ var _map_view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map-view.js */ \"./src/scripts/view/map-view.js\");\n\nfunction renderAddForm(_ref) {\n  let {\n    onSubmit\n  } = _ref;\n  const main = document.getElementById('main-content');\n  main.innerHTML = `\n    <form id=\"storyForm\">\n      <h2>Tambah Cerita</h2>\n\n      <label for=\"description\">Deskripsi:</label>\n      <input type=\"text\" id=\"description\" name=\"description\" required />\n\n      <label for=\"photo\">Ambil Foto:</label>\n      <div>\n        <video id=\"camera\" autoplay playsinline width=\"300\" height=\"225\"></video><br/>\n        <button type=\"button\" id=\"takePhoto\">Ambil Foto</button>\n      </div>\n      <canvas id=\"canvas\" style=\"display:none;\"></canvas>\n\n      <label for=\"lat\">Latitude:</label>\n      <input type=\"number\" id=\"lat\" name=\"lat\" required step=\"any\"/>\n\n      <label for=\"lon\">Longitude:</label>\n      <input type=\"number\" id=\"lon\" name=\"lon\" required step=\"any\"/>\n\n      <button type=\"submit\">Kirim Cerita</button>\n    </form>\n\n    <div id=\"addMap\" style=\"height: 300px; margin-top: 1rem;\"></div>\n    <div id=\"loading\" style=\"display:none\">Mengirim...</div>\n  `;\n  const form = document.getElementById('storyForm');\n  const video = document.getElementById('camera');\n  const canvas = document.getElementById('canvas');\n  const takePhotoButton = document.getElementById('takePhoto');\n  let capturedBlob = null;\n  navigator.mediaDevices.getUserMedia({\n    video: {\n      facingMode: 'environment'\n    }\n  }).then(stream => {\n    video.srcObject = stream;\n  }).catch(error => {\n    console.error('Gagal membuka kamera:', error);\n    alert('Kamera tidak tersedia.');\n  });\n  takePhotoButton.addEventListener('click', () => {\n    const context = canvas.getContext('2d');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    canvas.toBlob(blob => {\n      capturedBlob = new File([blob], 'photo.jpg', {\n        type: 'image/jpeg'\n      });\n      alert('Foto berhasil diambil!');\n    }, 'image/jpeg');\n  });\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    const description = form.description.value.trim();\n    const lat = form.lat.value.trim();\n    const lon = form.lon.value.trim();\n    if (!capturedBlob) {\n      alert('Silakan ambil foto terlebih dahulu!');\n      return;\n    }\n    onSubmit({\n      description,\n      photo: capturedBlob,\n      lat,\n      lon\n    });\n  });\n  (0,_map_view_js__WEBPACK_IMPORTED_MODULE_0__.renderAddMap)({\n    onLocationSelect: _ref2 => {\n      let {\n        lat,\n        lon\n      } = _ref2;\n      form.lat.value = lat;\n      form.lon.value = lon;\n    }\n  });\n}\nfunction showLoading(state) {\n  const loading = document.getElementById('loading');\n  if (loading) {\n    loading.style.display = state ? 'block' : 'none';\n  }\n}\nfunction showSuccess(message) {\n  alert(`Sukses: ${message}`);\n}\nfunction showError(message) {\n  alert(`Gagal: ${message}`);\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/view/add-view.js?");

/***/ }),

/***/ "./src/scripts/view/home-view.js":
/*!***************************************!*\
  !*** ./src/scripts/view/home-view.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderHome: () => (/* binding */ renderHome)\n/* harmony export */ });\n/* harmony import */ var _map_view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map-view.js */ \"./src/scripts/view/map-view.js\");\n\nfunction renderHome(stories) {\n  const main = document.getElementById('main-content');\n  if (!stories.length) {\n    main.innerHTML = '<h2>Daftar Cerita</h2><p>Tidak ada cerita.</p>';\n    return;\n  }\n  const storyListHTML = stories.map(story => `\n    <div class=\"story-card\">\n      <img src=\"${story.photoUrl}\" alt=\"Foto oleh ${story.name}\" loading=\"lazy\" />\n      <div class=\"story-info\">\n        <h3>${story.name}</h3>\n        <p>${story.description}</p>\n        <small>${new Date(story.createdAt).toLocaleString()}</small>\n      </div>\n    </div>\n  `).join('');\n  main.innerHTML = `\n    <h2>Daftar Cerita</h2>\n    <div class=\"story-grid\">${storyListHTML}</div>\n    <div id=\"homeMap\" style=\"height: 400px; margin-top: 2rem;\"></div>\n  `;\n  (0,_map_view_js__WEBPACK_IMPORTED_MODULE_0__.renderHomeMap)(stories);\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/view/home-view.js?");

/***/ }),

/***/ "./src/scripts/view/map-view.js":
/*!**************************************!*\
  !*** ./src/scripts/view/map-view.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderAddMap: () => (/* binding */ renderAddMap),\n/* harmony export */   renderHomeMap: () => (/* binding */ renderHomeMap)\n/* harmony export */ });\n// scripts/view/map-view.js\n\nfunction renderHomeMap(stories) {\n  const containerId = 'homeMap';\n  const container = document.getElementById(containerId);\n  if (!container) return;\n  const map = L.map(containerId).setView([-2.5, 118], 5);\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    attribution: '© OpenStreetMap contributors'\n  }).addTo(map);\n  stories.forEach(story => {\n    if (story.lat && story.lon) {\n      const marker = L.marker([story.lat, story.lon]).addTo(map);\n      marker.bindPopup(`\n        <b>${story.name || 'Pengguna'}</b><br />\n        ${story.description}<br />\n        ${new Date(story.createdAt).toLocaleDateString()}\n      `);\n    }\n  });\n}\nfunction renderAddMap(_ref) {\n  let {\n    onLocationSelect\n  } = _ref;\n  const containerId = 'addMap';\n  const container = document.getElementById(containerId);\n  if (!container) return;\n  const map = L.map(containerId).setView([-2.5, 118], 5);\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n  let currentMarker = null;\n  map.on('click', function (e) {\n    const lat = e.latlng.lat.toFixed(6);\n    const lon = e.latlng.lng.toFixed(6);\n    if (currentMarker) map.removeLayer(currentMarker);\n    currentMarker = L.marker([lat, lon]).addTo(map).bindPopup(`Lokasi dipilih:<br>Lat: ${lat}<br>Lon: ${lon}`).openPopup();\n    onLocationSelect({\n      lat,\n      lon\n    });\n  });\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/view/map-view.js?");

/***/ }),

/***/ "./src/scripts/view/navigation-view.js":
/*!*********************************************!*\
  !*** ./src/scripts/view/navigation-view.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderNavigation: () => (/* binding */ renderNavigation)\n/* harmony export */ });\nfunction renderNavigation() {\n  const nav = document.querySelector('nav');\n  const token = localStorage.getItem('token');\n  nav.innerHTML = `\n    <style>\n      nav {\n        display: flex;\n        justify-content: center;\n        gap: 20px;\n        background-color: #007bff;\n        padding: 15px;\n        font-family: Arial, sans-serif;\n      }\n\n      nav a {\n        color: white;\n        text-decoration: none;\n        padding: 8px 16px;\n        border-radius: 5px;\n        transition: background-color 0.3s ease;\n        font-weight: bold;\n      }\n\n      nav a:hover {\n        background-color: #0056b3;\n      }\n    </style>\n    ${token ? `\n          <a href=\"#/\">Home</a>\n          <a href=\"#/add\">Tambah Cerita</a>\n          <a href=\"#\" id=\"logoutLink\">Logout</a>\n        ` : ''}\n  `;\n  if (token) {\n    const logoutLink = document.getElementById('logoutLink');\n    logoutLink.addEventListener('click', e => {\n      e.preventDefault();\n      localStorage.removeItem('token');\n      window.location.hash = '#/login';\n      renderNavigation();\n    });\n  }\n}\n\n//# sourceURL=webpack://my-story-app/./src/scripts/view/navigation-view.js?");

/***/ }),

/***/ "./src/scripts/view/storyView.js":
/*!***************************************!*\
  !*** ./src/scripts/view/storyView.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../presenter/storyPresenter.js */ \"./src/scripts/presenter/storyPresenter.js\");\n/* harmony import */ var _model_storyModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/storyModel.js */ \"./src/scripts/model/storyModel.js\");\n\n\nfunction showLoading(state) {\n  const loading = document.getElementById('loading');\n  if (loading) {\n    loading.style.display = state ? 'block' : 'none';\n  }\n}\nfunction showSuccess(message) {\n  alert(`Sukses: ${message}`);\n}\nfunction showError(message) {\n  alert(`Error: ${message}`);\n}\n\n// Fungsi renderStories yang sebelumnya hilang\nfunction renderStories(stories) {\n  const container = document.getElementById('stories-container');\n  if (!container) return;\n  container.innerHTML = ''; // Bersihkan kontainer\n\n  stories.forEach(story => {\n    const div = document.createElement('div');\n    div.classList.add('story-item');\n\n    // Contoh isi: tampilkan deskripsi dan waktu (sesuaikan dengan data yang ada)\n    div.innerHTML = `\n      <p>${story.description || 'No description'}</p>\n      <small>${new Date(story.createdAt || Date.now()).toLocaleString()}</small>\n    `;\n    container.appendChild(div);\n  });\n}\nfunction init() {\n  _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setDependencies({\n    modelModule: _model_storyModel_js__WEBPACK_IMPORTED_MODULE_1__,\n    viewModule: {\n      showLoading,\n      showSuccess,\n      showError\n    }\n  });\n  const form = document.getElementById('storyForm');\n  if (form) {\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n      const description = document.getElementById('description').value;\n      const photo = document.getElementById('photo').files[0];\n      const lat = document.getElementById('lat').value;\n      const lon = document.getElementById('lon').value;\n      _presenter_storyPresenter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].submitStory({\n        description,\n        photo,\n        lat,\n        lon\n      });\n    });\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  init,\n  renderStories\n});\n\n//# sourceURL=webpack://my-story-app/./src/scripts/view/storyView.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/scripts/main.js");
/******/ 	
/******/ })()
;